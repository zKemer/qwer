<!DOCTYPE html>
<html lang="tr">
  <head>
    <%- include('templates/links') %>
  </head>
  <style>
	  .row { width: 100%; };
  </style>
  <body>
    <%- include('templates/header') %>
    <center>
    <div class="row" style="height: 50px;"></div>
    <h1 style="color: white;">
      <i class="fad fa-robot" style="color: #2E86C1;"></i>&#160 Bütün Botlar &#160<span style="font-size: 50%;" class="badge badge-primary">Sayfa: <%=page%></span>
    </h1>
    <h7 style="color: white;">
      Bütün botlar oy sırasına göre dizilmiştir.
    </h7>
    <div class="row" style="height: 50px;"></div>
    </center>
    <style>
      .card {
        height: 415px;
        border-radius: 10px;
        background-color: #3a3b3c;
        border: 4px solid rgba(24,25,26,.5);
        color: white;
        transition: 0.2s;
      }
      .botBanner {
        background: url('https://images4.alphacoders.com/909/thumb-1920-909912.png');
        background-repeat: no-repeat;
        background-size: cover;
      }
      .card:hover {
        transition: 0.2s;
        -webkit-transform: scale(1.02);
        transform: scale(1.02);
      }
    </style>
      
    
		<style>
				.bot {
					width: 95%;
					margin: auto;
					background-color: #262626;
					border-radius: 5px;
					padding: 15px;
					border-left: 5px solid white;
					transition: .2s;
				}
				.bot:hover {
					transition: .2s;
					-webkit-transform: scale(1.02);
					transform: scale(1.02);
				}
			</style>
			
			<script>
				$(document).ready(function(){
				  $('.botFrame').css('margin', '20px ' + ($('#anaSayfa').width() / 100 * 2) + 'px');
				});
			  </script>
			  <style>
				.botBadge {
				  padding: 3px;
				  margin: 2px;
				  width: 100px;
				  font-size: 80%;
				  transform: translate(-40px, 0px);
				  background-color: #151515;
				}
				.botButtons {
				  background-color: #131313;
				  color: white;
				  width: 47%;
				  text-decoration: none;
				  border-radius: 5px;
				}
				.botButtons:hover {
				  color: white;
				}
				.botBadge2 {
				  padding: 7px 10px;
				  border-radius: 5px;
				  transform: translate(-30px, 0px);
				  background-color: #181818;
				}
				.botFrame {
				  width: 29%;
				  background-color: #202020;
				  border: 3px solid #222222;
				  float: left;
				  transition: .2s;
				  box-shadow: 0px 0px 10px #151515;
				}
				.botFrame:hover {
				  transform: translate(0px, -10px);
				  transition: .2s;
				}
			  </style>
			  
			  	<div id="anaSayfa" class="row" style="padding: 0px 80px;">
					<div class="col">
						<% const allBots = system.db.fetch(`bots`); %>
						<% for(let i = 0; i < bots.length; i++) { %>
							<% const bot = allBots[bots[i]]; %>
							<div class="botFrame" style="padding: 10px; border-radius: 7px;">
								<div class="row">
								<div class="col">
									<img src="https://cdn.discordapp.com/avatars/<%=bot.id%>/<%=bot.avatar%>" style="width: 100px; border-radius: 10px; transform: translate(-50px, -30px); height: 100px;">
								</div>
								<div class="col">
									<a style="color: #fff;" class="btn botBadge"><i class="fad fa-angle-up"></i>&#160 <%= bot.votes ? bot.votes : 0 %></a>
									<br>
									<a style="color: #fff;" class="btn botBadge"><i class="fad fa-mail-bulk"></i>&#160 <%= bot.invites ? bot.invites : 0 %></a>
								</div>
								</div>
								<h5 class="botBadge2" style="text-align: left; color: white;"><%= bot.username %></h5>
								<p style="padding: 7px; text-align: left; color: white;"><%= bot.shortDesc.length > 33 ? (bot.shortDesc.slice(0, 30) + "...") : bot.shortDesc.slice(0, 33) %></p>
					
								<a class="btn botButtons" href="/bot/<%= bot.id %>">İncele</a>&#160 <a class="btn botButtons" href="/invite/<%= bot.id %>">Davet Et</a>
							</div>
						<% } %>
					</div>
				</div>
		
			<center>
      <br><br>
      <hr>
      <script>
      $(document).ready(function(){
        $('#oncekiSayfa').click(function(){
          <% if (q) { %>
            <% if (tag) { %>
              window.location.href = "/bots?page=<%=parseInt(page) - 1%>&q=<%=q%>&tag=<%=tag%>";
            <% } else { %>
              window.location.href = "/bots?page=<%=parseInt(page) - 1%>&q=<%=q%>";
            <% } %>
          <% } else if (tag) { %>
            window.location.href = "/bots?page=<%=parseInt(page) - 1%>&tag=<%=tag%>";
          <% } else { %>
            window.location.href = "/bots?page=<%=parseInt(page) - 1%>";
          <% } %>
        });
        $('#sonrakiSayfa').click(function(){
          <% if (q) { %>
            <% if (tag) { %>
              window.location.href = "/bots?page=<%=parseInt(page) + 1%>&q=<%=q%>&tag=<%=tag%>";
            <% } else { %>
              window.location.href = "/bots?page=<%=parseInt(page) + 1%>&q=<%=q%>";
            <% } %>
          <% } else if (tag) { %>
            window.location.href = "/bots?page=<%=parseInt(page) + 1%>&tag=<%=tag%>";
          <% } else { %>
            window.location.href = "/bots?page=<%=parseInt(page) + 1%>";
          <% } %>
        });
      });
      </script>
      <% if (page == 1) { %>
      <a disabled data-toggle="tooltip" data-placement="top" title="Önceki Sayfa" class="btn" id="oncekiSayfaBlocked" style="opacity: .4; background-color: #242526; color: white;">
        <i class="fad fa-arrow-left"></i>
      </a>
      <% } else { %>
      <a data-toggle="tooltip" data-placement="top" title="Önceki Sayfa" class="btn" id="oncekiSayfa" style="background-color: #242526; color: white;">
        <i class="fad fa-arrow-left"></i>
      </a>
      <% } %>
      <a class="btn" style="background-color: #242526; color: white;">
        <%=page%>
      </a>
      <a data-toggle="tooltip" data-placement="top" title="Sonraki Sayfa" class="btn" id="sonrakiSayfa" style="background-color: #242526; color: white;">
        <i class="fad fa-arrow-right"></i>
      </a>
      <hr>
			<br>			
			</center>
    <%- include('templates/footer') %>
  </body>
</html>